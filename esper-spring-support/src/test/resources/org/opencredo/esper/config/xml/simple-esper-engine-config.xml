<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:esper="http://www.opencredo.com/schema/esper"
	xsi:schemaLocation="http://www.springframework.org/schema/beans 
						http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
						http://www.opencredo.com/schema/esper
						http://www.opencredo.com/schema/esper/spring-esper-1.0.xsd">

	<esper:esper-engine>
		<esper:statements>
			<esper:statement query="select count(*) as throughput from com.ubs.sseng.concurrent.sample.domain.Event.win:time_batch(1 second)" >
				<esper:listeners>
					<esper:listener>
						<esper:ref bean="listener" />
					</esper:listener>
				</esper:listeners>
			</esper:statement>
		</esper:statements>
	</esper:esper-engine>
	
	
	<bean id="listener" class="org.opencredo.esper.TestListener" />
	
	<!--
	<bean id="esperBean" class="com.opencredo.spring.esper.EsperEngine">
		<property name="statements">
		    <bean class="com.opencredo.spring.esper.EsperStatement">
				<constructor-arg value="select count(*) as throughput from com.ubs.sseng.concurrent.sample.domain.Event.win:time_batch(1 second)"/>
				<property name="listeners">
				    <list>
				    	<ref bean="throughputMessagesInboundGateway"/>
				    </list>
				</property>
		    </bean>
		</property>
    </bean>
	-->
</beans>
